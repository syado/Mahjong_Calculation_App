<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <title>htmlでカメラゾ</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <header>
        
        <!--下記カメラ周りのhtml文（HTML内で直接カメラを操作-->
        <div class="cameraUIset">
            <video id="video" autoplay playsinline="true">video stream not available</video>
            <br><select name="dlist"></select>
            <button id="startbutton">カメラ逝くゾ</button><button onclick="videoRestartbutton()">カメラをリスタートするゾ</button><br>
        </div>
        <!---->

    </header>
    
    <!--
        <canvas id="canvas">
            <textarea id="readStr"></textarea>
        </canvas>
    -->
    </div><!-- /.main-wrapper -->
    <footer></footer>
    <!--画像を表示-->




    <!--標準カメラアプリ依存系-->

    <input type="file" id="myImage" accept="image/*">
    <img id="preview">

    <!--カメラ以上-->


    <!--下記PWAの設定判定周り-->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').then(function () {
                console.log('サービスワーカ登録成功ゾ');
                
            }).catch(function (err) {
                console.log('サービスワーカ追加できてないじゃん', err);
                
            })
        } else {
            console.log('サービスワーカ対応してないじゃん');
            alert('サービスワーカ対応してないじゃん');
        }
    
        document.querySelector('#startbutton').addEventListener('click', function (e) {
            video.pause();
            localMediaStream.stop();
        }, false);
        /*
        document.querySelector('#videoRestartbutton').addEventListener('click', function (e) {
            video.pause();
            localMediaStream.start();
        }, true);

        */
    </script>
    <!--PWA以上-->
    <script src="camera.js"> </script>
    <!--カメラのJSジャンプ-->

    <!--カメラアプリ依存系取得画像表示-->
</body>

</html>