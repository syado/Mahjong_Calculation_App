<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <!-- ビューポートの設定 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- スタイルシートの読み込み -->
    <link rel="stylesheet" href="style_cmr.css">

    <!-- JavaScriptの読み込み -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="modal_cmr.js"></script>
    <script src="api.js"></script>
    <script src="camera.js"></script>

    <title>雀鳳</title>
</head>

<body>
    <!-- 縦画面時に表示 -->
    <h1 class="error">画面を横に傾けてください</h1>

    <!-- 横画面時に表示 -->
    <!-- カメラの画面 -->
    <div class="camera">
        <video id="video" autoplay playsinline="true">video stream not available</video>
        <img id="grid_video"src="images/grid.png" onclick="modal_open()">
    </div>

    <!-- 確認画面 -->
    <div id="modal-content">
        <div id="img">
            <canvas id="canvas"></canvas>
            <img id="grid_canvas" src="images/grid.png">
        </div>
        <div id="btn">
            <button type="button" id="modal-close">
                撮りなおす
            </button>
            <button type="button" onclick="camera_send()">
                送信する
            </button>
        </div>
    </div>

    <!-- 画像送信中に表示 -->
    <div class="loading">
        <div class="animation">画像を送信しています<br>しばらくお待ちください</div>
    </div>

    <!-- 送信失敗時に表示 -->
    <div class="message">送信に失敗しました</div>
    
    <!-- JavaScript -->
    <script>
        // カメラのスタートアップをhtmlが読み込み終わったら実行
        startup()
    </script>
</body>
</html>